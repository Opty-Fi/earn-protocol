{
  "title": "Staking Pool",
  "description": "Test cases for Staking Pool contract",
  "stories": [
    {
      "description": "User that is not the operator shouldn't be able to set the underlying token",
      "setActions": [
        {
          "action": "setToken(address)",
          "args": {
            "token": "0x6b175474e89094c44da98b954eedeac495271d0f"
          },
          "expect": "fail",
          "message": "caller is not the operator"
        }
      ],
      "getActions": []
    },
    {
      "description": "User that is not the operator shouldn't be able to set the OPTYMinter",
      "setActions": [
        {
          "action": "setOPTYMinter(address)",
          "args": {
            "OPTYMinter": "0x6b175474e89094c44da98b954eedeac495271d0f"
          },
          "expect": "fail",
          "message": "caller is not the operator"
        }
      ],
      "getActions": []
    },
    {
      "description": "User that is not the operator shouldn't be able to set the Opty rate",
      "setActions": [
        {
          "action": "setOptyRatePerSecond(uint256)",
          "args": {
            "rate": "10000000000000000000"
          },
          "expect": "fail",
          "message": "caller is not the operator"
        }
      ],
      "getActions": []
    },
    {
      "description": "Operator should be able to set the Opty rate",
      "setActions": [
        {
          "action": "setOptyRatePerSecond(uint256)",
          "args": {
            "rate": "10000000000000000000"
          },
          "expect": "success",
          "message": ""
        }
      ],
      "getActions": [
        {
          "action": "optyRatePerSecond()",
          "expectedValue": "10000000000000000000"
        }
      ]
    },
    {
      "description": "User shouldn't be able to approve non-contract address",
      "setActions": [
        {
          "action": "setOPTYMinter(address)",
          "args": {
            "OPTYMinter": "0x25b972807A54bBbCE0A206A76eA68f3c556c1a8B"
          },
          "expect": "fail",
          "message": "!_optyMinter.isContract"
        },
        {
          "action": "setToken(address)",
          "args": {
            "token": "0x25b972807A54bBbCE0A206A76eA68f3c556c1a8B"
          },
          "expect": "fail",
          "message": "!_underlyingToken.isContract"
        },
        {
          "action": "setOPTYStakingRateBalancer(address)",
          "args": {
            "OPTYStakingRateBalancer": "0x25b972807A54bBbCE0A206A76eA68f3c556c1a8B"
          },
          "expect": "fail",
          "message": "!_optyStakingRateBalancer.isContract"
        }
      ],
      "getActions": []
    }
  ]
}
